# 更新日志

## [v1.2.1] - 2025-07-14

- 🔄 **重要改进**: 歌词数据迁移到用户持久化目录
- 📁 **数据安全**: 歌词文件现存储在 `data/lyrics_data` 目录，插件更新时不会丢失
- ⚡ **自动迁移**: 插件启动时自动将默认歌词文件增量迁移到用户目录
- 🛡️ **数据保护**: 迁移过程不会覆盖用户已有的歌词文件

## [v1.2.0] - 2025-07-14

- ✨ **新增功能**: 添加删除歌词指令
- 📚 **文档改进**: 更新 README 文档，修正版本更新记录 lint
- 🔧 **技术改进**: 指令 `/lyric` 改为 `/lyrics`；除网易云音乐、QQ 音乐等 API 中使用 `lyric` 不更改外，代码中所有 `lyric` 均改为 `lyrics`。
- 🔧 **技术改进**: 提取匹配查找歌词文件函数

## [v1.1.1] - 2025-06-17

### 🐛 Bug修复
- **QQ表情支持**: 改进歌词预处理功能，支持忽略QQ表情和emoji进行歌词匹配(带着情绪唱歌吧)
- **消息过滤优化**: 修复QQ表情(`face`类型)被错误过滤导致无法匹配的问题

### 🔧 技术改进
- 增强歌词预处理逻辑，更好地处理标点符号、emoji和QQ表情

## [v1.1.0] - 2025-06-16

### 🐛 Bug修复

- **配置文件读取 bug**: 从手动 `config.json` 迁移到 AstrBot 标准配置系统
- **英文歌词处理 bug**: 添加智能语言检测，英文歌词不再被错误按空格拆分

### ✨ 新增功能

- 智能语言检测：自动识别中文 / 英文歌词并采用不同处理策略
- 支持通过 AstrBot 管理界面进行参数配置
- 歌词管理面板项目（独立仓库）

### 📚 文档改进

- 更新 README 文档，添加版本更新记录
- 添加相关项目说明和仓库链接预留
- 更新配置选项说明

### 🔧 技术改进

- 代码重构：移除手动配置文件管理代码
- 配置系统：使用 AstrBotConfig 替代手动 JSON 配置
- 语言处理：添加汉字检测函数，优化歌词拆分逻辑

### 📋 其他说明

- 本仓库的歌词库不再维护更新
- 推荐使用独立的歌词数据仓库和管理面板

## [v1.0.0] - 初始版本

### ✨ 初始功能

- 基础歌词接龙功能
- 支持网易云音乐、QQ 音乐、酷狗音乐歌词搜索
- 批量歌词下载工具
- 歌词文件智能过滤
- 模糊匹配算法
